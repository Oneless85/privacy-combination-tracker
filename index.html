<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Combination Tracker · Privacy Policy (Index)</title>
  <meta name="description" content="Index page for Combination Tracker privacy policies in multiple languages." />
  <style>
    :root{
      --bg:#0e1a14;
      --card:#12251b;
      --ink:#e7ffef;
      --muted:#a8cdb9;
      --accent:#33c17d;
      --accent-2:#2aa369;
      --ring: 0 0 0 3px rgba(51,193,125,.25);
      --radius: 16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background:
        radial-gradient(60% 80% at 20% 0%, rgba(51,193,125,.15), transparent 60%),
        radial-gradient(60% 80% at 100% 40%, rgba(255, 210, 64, .15), transparent 60%),
        var(--bg);
    }
    .wrap{
      max-width: 1024px;
      margin: 0 auto;
      padding: 32px 20px 64px;
    }
    header{
      display:flex;align-items:center;gap:16px;margin:8px 0 24px;
    }
    .logo{
      width:42px;height:42px;border-radius:10px;
      background: conic-gradient(from 180deg at 50% 50%, #ffc84a, #ffdc78, #ffc84a);
      box-shadow: 0 6px 24px rgba(0,0,0,.35), inset 0 0 0 4px rgba(0,0,0,.15);
      display:grid;place-items:center;
      color:#0e1a14;font-weight:800;
    }
    h1{font-size:clamp(24px, 3vw, 32px);margin:0}
    .tag{display:inline-block;margin-top:6px;color:var(--muted);font-size:14px}
    .panel{
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      padding: 18px 16px;
      margin: 20px 0 28px;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 14px;
    }
    .card{
      background: var(--card);
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      padding: 16px;
      display:flex;align-items:center;gap:14px;
      transition: transform .2s ease, border-color .2s ease, background .2s ease;
    }
    .flag{
      width:42px; height:42px; border-radius: 50%;
      background: #0f1b14; display:grid; place-items:center;
      border:1px solid rgba(255,255,255,.12);
      box-shadow: inset 0 0 0 2px rgba(0,0,0,.25);
      font-weight:700;
    }
    .card:hover{transform:translateY(-2px);border-color: rgba(51,193,125,.5); background: #0f2017;}
    .cta{
      margin-left:auto; padding:8px 12px; border-radius:10px;
      background: linear-gradient(180deg, var(--accent), var(--accent-2));
      border:none; color:#08120e; font-weight:700; cursor:pointer;
      text-decoration:none;
      box-shadow: 0 8px 24px rgba(51,193,125,.35);
    }
    .cta:focus-visible{outline:none; box-shadow: var(--ring);}
    .muted{color:var(--muted);font-size:14px}
    footer{margin-top:42px;color:var(--muted);font-size:13px}
    .row{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
    .note{
      font-size:13px; color:var(--muted);
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px; padding:6px 10px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.1);
      border-radius: 999px;
    }
  </style>
  <script>
    // Corrigido: removido o redirecionamento automático.
    document.addEventListener('DOMContentLoaded', () => {
      const map = {
        'pt': 'privacy_policy_pt.html',
        'pt-pt': 'privacy_policy_pt.html',
        'en': 'privacy_policy_en.html',
        'en-gb': 'privacy_policy_en.html',
        'es': 'privacy_policy_es.html',
        'es-es': 'privacy_policy_es.html',
        'fr': 'privacy_policy_fr.html',
        'fr-fr': 'privacy_policy_fr.html',
        'de': 'privacy_policy_de.html',
        'de-de': 'privacy_policy_de.html'
      };
      const params = new URLSearchParams(location.search);
      if (params.get('noredirect') === '1') return; // não mostra banner nem redireciona

      const nav = (navigator.language || 'en').toLowerCase();
      const target = map[nav] || map[nav.split('-')[0]] || 'privacy_policy_en.html';

      // Mostrar banner com sugestão e link
      const banner = document.getElementById('redir');
      const link = document.getElementById('redir-link');
      link.href = target;
      banner.style.display = 'block';

      // Botão "Stay here" fecha o banner e marca noredirect=1
      document.getElementById('cancel').addEventListener('click', () => {
        banner.style.display='none';
        history.replaceState(null, '', location.pathname + '?noredirect=1');
      });
    });
  </script>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">7</div>
      <div>
        <h1>Combination Tracker — Privacy Policy</h1>
        <div class="tag">Choose your language</div>
      </div>
    </header>

    <div id="redir" class="panel" style="display:none">
      <div class="row">
        <span class="pill">We’ll open the best language for you…</span>
        <a id="redir-link" class="cta" href="#" rel="nofollow">Open now</a>
        <button id="cancel" class="cta" style="background:#26382d;color:#c9e9d9;box-shadow:none;">Stay here</button>
      </div>
      <div class="note" style="margin-top:8px">Tip: Append <code>?noredirect=1</code> to the URL to keep this index.</div>
    </div>

    <section class="grid" aria-label="Languages">
      <article class="card">
        <div class="flag">PT</div>
        <div>
          <div><strong>Português (Portugal)</strong></div>
          <div class="muted">Política de Privacidade</div>
        </div>
        <a class="cta" href="privacy_policy_pt.html" lang="pt">Abrir</a>
      </article>

      <article class="card">
        <div class="flag">EN</div>
        <div>
          <div><strong>English</strong></div>
          <div class="muted">Privacy Policy</div>
        </div>
        <a class="cta" href="privacy_policy_en.html" lang="en">Open</a>
      </article>

      <article class="card">
        <div class="flag">ES</div>
        <div>
          <div><strong>Español (España)</strong></div>
          <div class="muted">Política de Privacidad</div>
        </div>
        <a class="cta" href="privacy_policy_es.html" lang="es">Abrir</a>
      </article>

      <article class="card">
        <div class="flag">FR</div>
        <div>
          <div><strong>Français</strong></div>
          <div class="muted">Politique de Confidentialité</div>
        </div>
        <a class="cta" href="privacy_policy_fr.html" lang="fr">Ouvrir</a>
      </article>

      <article class="card">
        <div class="flag">DE</div>
        <div>
          <div><strong>Deutsch</strong></div>
          <div class="muted">Datenschutzerkl&auml;rung</div>
        </div>
        <a class="cta" href="privacy_policy_de.html" lang="de">Öffnen</a>
      </article>
    </section>

    <footer>
      <div>Operator: <strong>Oneless85</strong> — Contact: <a style="color:#9fe6c3" href="mailto:ricardop.apk.s@gmail.com">ricardop.apk.s@gmail.com</a></div>
      <div style="margin-top:8px" class="note">These pages describe how Combination Tracker handles data and permissions. For Play Console, point your app’s “Privacy Policy” link to the correct language, or to this index.</div>
    </footer>
  </div>
</body>
</html>
